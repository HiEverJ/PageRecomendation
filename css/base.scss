@import 'variables';

/* --- RESET BÁSICO Y GLOBALES --- */
// ... (Todo el reset básico, body, container, h1, cta-button, etc. se queda igual)
* { margin: 0; padding: 0; box-sizing: border-box; }
html { scroll-behavior: smooth; }
body { background-color: var(--color-bg); color: var(--color-text); font-family: var(--font-primary); line-height: 1.6; }
.container { max-width: 1200px; margin: 0 auto; padding: 0 1.5rem; }
h1, h2, h3, h4, h5, h6 { font-family: var(--font-headings); color: var(--color-text); margin-bottom: 0.75rem; line-height: 1.2; }
a { color: var(--color-link); text-decoration: none; transition: color var(--transition-speed); }
a:hover { color: var(--color-accent-hover); }
img { max-width: 100%; height: auto; display: block; }
main { padding-top: 20px; } // Reducimos el padding-top, el header ya no es 'fixed'

/* --- Botones (CTA) --- */
// ... (El código de .cta-button se queda igual)
.cta-button { /*...*/ }


/* --- Header "Wow" (Glassmorphism) --- */
.main-header {
    background-color: var(--color-surface-transparent); /* Fondo semi-transparente */
    -webkit-backdrop-filter: blur(12px); /* desenfoque para Safari */
    backdrop-filter: blur(12px); /* desenfoque estándar */
    
    padding: 0.8rem 0;
    position: sticky; /* Header pegajoso */
    top: 0;
    left: 0;
    width: 100%;
    z-index: 1000;
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08); /* Sombra más suave */
    border-bottom: 1px solid rgba(255, 255, 255, 0.1); /* Borde sutil */
    
    /* Fallback para navegadores que no soportan backdrop-filter */
    @supports not (backdrop-filter: blur(1px)) {
        background-color: var(--color-surface);
    }

    .container {
        display: flex;
        justify-content: space-between;
        align-items: center;
        flex-wrap: wrap; 
    }
}

.logo {
    font-family: var(--font-headings);
    font-size: 1.8rem;
    font-weight: 700;
    color: var(--color-text);
    span { color: var(--color-accent); }
    transition: color var(--transition-speed);
}

/* --- Navegación "Wow" (Píldora animada) --- */
.main-nav {
    display: none; 
    width: 100%; 
    margin-top: 1rem;
    
    &.is-active {
        display: block; 
    }

    ul {
        list-style: none;
        display: flex;
        flex-direction: column; 
        gap: 0.8rem;
    }

    a {
        display: block;
        padding: 0.6rem 1rem; /* Padding para la píldora */
        font-size: 1.1rem;
        font-weight: 600;
        color: var(--color-text);
        border-radius: var(--border-radius);
        transition: color var(--transition-speed);
        position: relative; /* Clave para la animación */
        z-index: 1;
        overflow: hidden; /* Clave para la animación */

        /* La "Píldora" (elemento pseudo ::before) */
        &::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: var(--color-primary-light);
            border-radius: var(--border-radius);
            transform: scaleX(0); /* Inicia escalado a 0 */
            transform-origin: left; /* Crecerá desde la izquierda */
            transition: transform var(--transition-speed);
            z-index: -1;
        }

        /* Hover y Activo */
        &.active, &:hover {
            color: var(--color-accent-hover);
            background-color: transparent; /* El fondo lo da la píldora */
        }
        
        &.active::before, &:hover::before {
            transform: scaleX(1); /* Crece al 100% en hover */
        }
        
        /* El 'active' es instantáneo, el 'hover' es animado */
        &.active::before {
             transform: scaleX(1);
             transition: none; /* Sin animación para el estado activo */
        }
    }
}

/* --- Botón Hamburguesa --- */
// ... (El código de .hamburger-btn se queda igual)
.hamburger-btn { /*...*/ }

/* --- Footer --- */
// ... (El código de .main-footer se queda igual)
.main-footer { /*...*/ }


/* --- MEDIA QUERIES (ADAPTACIÓN A DESKTOP) --- */
@media (min-width: 768px) {
    .hamburger-btn {
        display: none;
    }

    .main-nav {
        display: block; 
        width: auto;
        margin-top: 0;
        
        ul {
            flex-direction: row; 
            gap: 1rem; /* Un poco menos de espacio */
        }

        a {
            padding: 0.6rem 1.2rem; /* Padding para la píldora */
            font-size: 1rem;
            font-weight: 600;

            &::before {
                transform-origin: center; /* Crece desde el centro en desktop */
                transform: scale(0);
            }
            &.active::before, &:hover::before {
                transform: scale(1);
            }
            &.active::before {
                transition: transform var(--transition-speed); /* Animado también en desktop */
            }
        }
    }

    .main-header .container {
        flex-wrap: nowrap;
    }
}